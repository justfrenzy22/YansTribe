@{
    string? controller = ViewData["controller"] as string;
    string? action = ViewData["action"] as string;
    string redirectUrl = Url.Action(action, controller) ?? "#"; // Ensure it's not null
}

<script>
    window.onload = () => {
        const token = localStorage.getItem("token") ?? "mazna";
        const url = "@redirectUrl" + "?token=" + encodeURIComponent(token);
        console.log("Token:", token);
        console.log("Redirecting to:", url);

        if (token) {
            window.location.href = url;
        }
    };
</script>

<a href="">loading...</a>